<?xml version="1.0"?>
<!-- Complete document containing all required and optional fields, order mode is "index". -->
<cb_config>
   <reference>
      <author>$Author: pronovic $</author>
      <revision>1.3</revision>
      <description>Sample configuration</description>
      <generator>Generated by hand.</generator>
   </reference>
   <extensions>
      <order_mode>index</order_mode>
      <action>
         <name>example</name>
         <module>something.whatever</module>
         <function>example</function>
         <index>102</index>
      </action>
      <action>
         <name>bogus</name>
         <module>module</module>
         <function>something</function>
         <index>350</index>
      </action>
   </extensions>
   <options>
      <starting_day>tuesday</starting_day>
      <working_dir>/opt/backup/tmp</working_dir>
      <backup_user>backup</backup_user>
      <backup_group>group</backup_group>
      <rcp_command>/usr/bin/scp -1 -B</rcp_command>
      <rsh_command>/usr/bin/ssh</rsh_command>
      <cback_command>/usr/bin/cback</cback_command>
      <managed_actions>collect, purge</managed_actions>
      <override>
         <command>mkisofs</command>
         <abs_path>/usr/bin/mkisofs</abs_path>
      </override>
      <override>
         <command>svnlook</command>
         <abs_path>/svnlook</abs_path>
      </override>
      <pre_action_hook>
         <action>collect</action>
         <command>ls -l</command>
      </pre_action_hook>
      <pre_action_hook>
         <action>subversion</action>
         <command>mailx -S "hello"</command>
      </pre_action_hook>
      <post_action_hook>
         <action>stage</action>
         <command>df -k</command>
      </post_action_hook>
   </options>
   <collect>
      <collect_dir>/opt/backup/collect</collect_dir>
      <collect_mode>daily</collect_mode>
      <archive_mode>targz</archive_mode>
      <ignore_file>.cbignore</ignore_file>
      <exclude>
         <abs_path>/etc/cback.conf</abs_path>
         <abs_path>/etc/X11</abs_path>
         <pattern>.*tmp.*</pattern>
         <pattern>.*\.netscape\/.*</pattern>
      </exclude>
      <dir>
         <abs_path>/root</abs_path>
      </dir>
      <dir>
         <abs_path>/tmp</abs_path>
         <link_depth>3</link_depth>
      </dir>
      <dir>
         <abs_path>/ken</abs_path>
         <link_depth>1</link_depth>
         <dereference>Y</dereference>
      </dir>
      <dir>
         <abs_path>/var/log</abs_path>
         <mode>incr</mode>                   <!-- deprecated form -->
      </dir>
      <dir>
         <abs_path>/etc</abs_path>
         <collect_mode>incr</collect_mode>
         <archive_mode>tar</archive_mode>
         <ignore_file>.ignore</ignore_file>
      </dir>
      <dir>
         <abs_path>/opt</abs_path>
         <exclude>
            <abs_path>/opt/share</abs_path>
            <rel_path>large</rel_path>       <!-- i.e. /opt/large -->
            <pattern>.*\.doc\.*</pattern>
            <rel_path>backup</rel_path>      <!-- i.e. /opt/backup -->
            <pattern>.*\.xls\.*</pattern>
            <abs_path>/opt/tmp</abs_path>
         </exclude>
      </dir>
      <file>
         <abs_path>/home/root/.profile</abs_path>
      </file>
      <file>
         <abs_path>/home/root/.kshrc</abs_path>
         <mode>weekly</mode>                   <!-- deprecated form -->
      </file>
      <file>
         <abs_path>/home/root/.aliases</abs_path>
         <collect_mode>daily</collect_mode>
         <archive_mode>tarbz2</archive_mode>
      </file>
   </collect>
   <stage>
      <staging_dir>/opt/backup/staging</staging_dir>
      <peer>
         <name>machine1-1</name>
         <type>local</type>
         <collect_dir>/opt/backup/collect</collect_dir>
      </peer>
      <peer>
         <name>machine1-2</name>
         <type>local</type>
         <collect_dir>/var/backup</collect_dir>
      </peer>
      <peer>
         <name>machine2</name>
         <type>remote</type>
         <collect_dir>/backup/collect</collect_dir>
         <ignore_failures>all</ignore_failures>
      </peer>
      <peer>
         <name>machine3</name>
         <type>remote</type>
         <backup_user>someone</backup_user>
         <rcp_command>scp -B</rcp_command>
         <collect_dir>/home/whatever/tmp</collect_dir>
      </peer>
   </stage>
   <store>
      <source_dir>/opt/backup/staging</source_dir>
      <media_type>cdrw-74</media_type>
      <device_type>cdwriter</device_type>
      <target_device>/dev/cdrw</target_device>
      <drive_speed>4</drive_speed>
      <check_data>Y</check_data>
      <check_media>Y</check_media>
      <warn_midnite>Y</warn_midnite>
      <no_eject>Y</no_eject>
      <blank_behavior>
         <mode>weekly</mode>
         <factor>1.3</factor>
      </blank_behavior>
   </store>
   <purge>
      <dir>
         <abs_path>/opt/backup/stage</abs_path>
         <retain_days>5</retain_days>
      </dir>
      <dir>
         <abs_path>/opt/backup/collect</abs_path>
         <retain_days>0</retain_days>
      </dir>
      <dir>
         <abs_path>/home/backup/tmp</abs_path>
         <retain_days>12</retain_days>
      </dir>
   </purge>
</cb_config>
